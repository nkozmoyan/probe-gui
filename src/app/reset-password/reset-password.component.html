<div class="container">
  <div *ngIf="validToken; else invalidToken">
    <form novalidate class="form-signin" (ngSubmit)="reset()" #signupForm="ngForm">
        <div class="alert alert-warning alert-dismissible" role="alert" *ngIf="message !== ''">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span></button>
          {{message}}
        </div>
        <div class="alert alert-warning alert-dismissible" role="alert" *ngIf="userPassword.invalid && (userPassword.dirty || userPassword.touched)">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <ng-container *ngIf="userPassword.errors?.mismatch;
            then first else second">
          </ng-container>
          <ng-template #first> Password does not match the confirm password.</ng-template>
          <ng-template #second>Password needs to be more than 6 characters.</ng-template>
        </div>
  
        <h2 class="form-signin-heading" style="padding-bottom: 20px">Reset Password</h2>

        <div ngModelGroup="passwordGroup" #userPassword="ngModelGroup" passwordMatch >
            <div class="form-group ">
            <label for="inputPassword" class="col-lg-3" >Password:</label>
            <input id="inputPassword"  minlength ="6" type="password" class="form-control col-lg-3" 
              placeholder="Password" [(ngModel)]="formData.password" name="pwd" #password="ngModel" [ngModelOptions]="{updateOn: 'blur'}" />
            </div>
  
            <div class="form-group">
            <label for="confirmPassword" class="col-lg-3" >Confirm Password:</label>
            <input id="confirmPassword"  type="password" class="form-control col-lg-3" 
            placeholder="Confirm Password" [(ngModel)]="formData.confirmPassword" name="confirmPwd" [ngModelOptions]="{updateOn: 'blur'}"   />
          </div>
      </div>
  
      <br>
        <button class="btn btn-lg btn-primary btn-block col-lg-3" type="submit" [disabled]="!signupForm.form.valid">Reset</button>
    </form>
  </div>
  <ng-template #invalidToken>
      <h2 class="form-signin-heading" style="padding-bottom: 20px">Your email to reset your password has expired.</h2>
  </ng-template>
  </div>