<form (ngSubmit)="onSubmit()" [formGroup]="formGroup">
    <h3>Notofication Policy</h3> 

    <div class="form-group offset-2 col-4">
      <label for="name">Policy name:</label>
      <input formControlName="name" type="text" class="form-control" id="name" 
          placeholder="Policy name" required >

      <div [hidden]="formGroup.controls.name.valid || formGroup.controls.name.pristine"
      class="inline-error">
        Policy name is required
      </div>

    </div>
    
    <div class="form-group offset-2 col-2">
      <label for="threshold_loc">Location failure threshold (checks):</label>
      <select class="form-control" id="threshold_loc" formControlName="threshold_loc"  required>
        <option>1</option>
        <option>2</option>
      </select>
    </div>

  
  <div class="form-group offset-2 col-2">
    <label for="threshold_policy">Probe failure threshold (faied locations):</label>
    <select class="form-control" id="threshold_policy" formControlName="threshold_policy" required>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>

  <div class="offset-2 col-4 form-group">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" formControlName="recovery"  id="recovery" >
      <label class="form-check-label" for="recovery" >
        Notify on recovery
      </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" formControlName="continuous"  id="continuous">
        <label class="form-check-label" for="continuous" >
            Continuous notifications
        </label>
      </div>
  </div> 

  <h3>Channels to Notify</h3> 
    
      <div formGroupName="channel_ids" class="offset-2 col-4 form-group ">
        <div class="form-check" *ngFor="let channel of channels; let i= index">
          <input class="form-check-input" type="checkbox" [formControlName]="channel._id" id="channel-id-{{i}}">
          <label class="form-check-label" for="channel-id-{{i}}">
            {{channel.name}} <small> {{channel.channel}}</small>
          </label>
        </div>
      </div>

      <div class="btn-group offset-2 col-4 top-buffer">
         <button type="submit" class="btn  btn-primary mr-2" [disabled]="!formGroup.valid">Save</button>
         <button type="button" class="btn btn-outline-secondary" [routerLink]="['/notf-policies']">Cancel</button>

      </div>
  </form>