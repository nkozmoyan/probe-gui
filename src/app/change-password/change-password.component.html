<div class="mt-3">
    <div class="alert alert-danger" role="alert" *ngIf="userPassword.invalid && (userPassword.dirty || userPassword.touched)">
        <ng-container *ngIf="userPassword.errors?.mismatch;then first else second"></ng-container>
        <ng-template #first> Password does not match the confirm password.</ng-template>
        <ng-template #second>Password needs to be more than 6 characters.</ng-template>
    </div>

    <div class="alert alert-danger" role="alert" *ngIf="message !== ''">{{message}}</div>
</div>

<div class="offset-md-1 offset-lg-2 col-md-10 col-lg-4 mt-5">
    <h5 >Change Password</h5>

    <div class="mt-3">
      <form novalidate class="mt-3" (ngSubmit)="handleForm()" #signupForm="ngForm">
          <div class="form-group">
              <label for="currentPassword"  >Current Password:</label>
              <input id="currentPassword" required  type="password" class="form-control" 
                placeholder="Password" [(ngModel)]="userInfo.currentPassword" name="pwd" #password="ngModel" [ngModelOptions]="{updateOn: 'blur'}" />
          </div>
  
          <div class="form-group" ngModelGroup="passwordGroup" #userPassword="ngModelGroup" passwordMatch>
              
          <div class="form-group">
                <label for="inputPassword"  >New Password:</label>
                <input id="inputPassword"   minlength ="6" type="password" class="form-control" 
                 placeholder="New Password" [(ngModel)]="userInfo.password" name="pwd" #password="ngModel" [ngModelOptions]="{updateOn: 'blur'}" />
              </div>
    
              <div class="form-group">
                <label for="confirmPassword">Confirm Password:</label>
                <input id="confirmPassword"  type="password" class="form-control" 
                placeholder="Confirm Password" [(ngModel)]="userInfo.confirmPassword" name="confirmPwd" [ngModelOptions]="{updateOn: 'blur'}"   />
              </div>
        </div>
        <div class="form-group mt-3">
            <button class="btn btn-primary mt-3 col-6" type="submit" [disabled]="!signupForm.form.valid">Change Password</button>
        </div>
      </form>
    </div>
  </div>